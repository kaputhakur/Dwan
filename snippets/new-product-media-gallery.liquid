{% if product.images != null %}
<div class="swiper-container product__image-slider">
  <div class="swiper-wrapper">
    {%- for media in product.media -%}
    <div class="swiper-slide">
      {% if media.media_type == "video" %}
      {{ media | media_tag: image_size: "720x", autoplay: true, loop: loop, controls: true, preload: "none", autoplay: true, height: "100%", width: "100%" }}
      {% else %}
      <img data-srcset="
                      {{ media | img_url: '1440x' }} 1440w,
                      {{ media | img_url: '1080x' }} 1080w,
                      {{ media | img_url: '720x' }} 767w,
                      {{ media | img_url: '480x' }} 480w"
           sizes="(min-width: 480px) 1440px, 1080px, 767px, 480px"
           data-src="{{ media | img_url: 'master' }}"
           alt="{{ media.alt | escape }}"
           border="0"
           class="swiper-lazy"
           data-media-id="{{ media.id }}" />
      {% endif %}
    </div>
    {%- endfor -%}
  </div>
  <!-- Add pagination -->
  <div class="swiper-pagination"></div>
</div>
{% endif %}
{% if product.images.size > 1 %}
<div class="swiper-container product__image-thumbnail">
  <div class="swiper-wrapper">
    {%- for media in product.media -%}
    <div class="swiper-slide">
      <img data-srcset="
                      {{ media | img_url: '1440x' }} 1440w,
                      {{ media | img_url: '1080x' }} 1080w,
                      {{ media | img_url: '720x' }} 767w,
                      {{ media | img_url: '480x' }} 480w"
           sizes="(min-width: 480px) 1440px, 1080px, 767px, 480px"
           data-src="{{ media | img_url: 'master' }}"
           alt="{{ media.alt | escape }}"
           border="0"
           class="thumbnail-image"
           data-media-id="{{ media_id }}" />
    </div>
    {%- endfor -%}
  </div>
  <!-- Add navigation arrows -->
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
</div>
{% endif %}